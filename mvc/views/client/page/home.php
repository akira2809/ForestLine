<!-- Banner -->
<div class="container-fluid p-0">
    <div class="position-relative bg-light" style="height: 800px;">
        <img src="public/imgs/bannerhome.jpg" class="img-fluid position-absolute w-100 h-100" alt="Banner Image"
            style="object-fit: cover; opacity: 0.8;">
    </div>
</div>
<!-- Danh sách sản phẩm -->
<div class="container my-5">
    <div class="row text-center">
        <div class="col-md-3">
            <img src="./public/imgs/Green-Women_s-Recycled-Polyester-Rain-Jacket-TCW4649-2277_1.jpg" class="img-fluid"
                alt="Đồ nữ giới - Mới nhất">
            <p class="mt-2">Đồ nữ giới</p>
            <p class="text-muted">Mới nhất</p>
        </div>
        <div class="col-md-3">
            <img src="./public/imgs/Brown-Eco-Friendly-Mock-Neck-Knit-Sweater-TCW5956-3453_4_c4199c2a-50a8-436b-b8fa-d1941acd155b.jpg"
                class="img-fluid" alt="Đồ nữ giới - Bán chạy nhất">
            <p class="mt-2">Đồ nữ giới</p>
            <p class="text-muted">Bán chạy nhất</p>
        </div>
        <div class="col-md-3">
            <img src="./public/imgs/Blue-Mens-Button-Up-Shirt-TCM4652-3562_4_0d553e6a-7689-4a5c-af07-df319f7c50eb.jpg"
                class="img-fluid" alt="Đồ nam giới - Mới nhất">
            <p class="mt-2">Đồ nam giới</p>
            <p class="text-muted">Mới nhất</p>
        </div>
        <div class="col-md-3">
            <img src="./public/imgs/Multi-Organic-Cotton-Knit-Sweater-TCM6066-3671_4_7d2c7342-3644-41b4-972d-eb71dcd228e7.jpg"
                class="img-fluid" alt="Đồ nam giới - Bán chạy nhất">
            <p class="mt-2">Đồ nam giới</p>
            <p class="text-muted">Bán chạy nhất</p>
        </div>
    </div>
</div>

<!-- Phần đếm số lượng cây đã trồng -->
<div class="container-fluid py-5" style="background-color: #718355;">
    <div class="text-center text-white">
        <h2 class="mb-3">Cùng nhau Chúng ta cùng trồng cây nhé</h2>
        <h1 class="fw-bold number-text-home" id="counter">105,166,522</h1>
        <p>Chúng tôi xây dựng dự án thiện nguyện giúp đỡ môi trường sống của chúng. Dự định trong năm 2030 sẽ là 1
            tỷ cây sẽ được trồng</p>
        <a href="#" class="text-white text-decoration-underline">Tìm hiểu thêm tại đây</a>
    </div>
</div>

<section class="container my-5 py-5">
    <div class="row align-items-center">
        <!-- Phần văn bản -->
        <div class="col-md-6">
            <h2 class="display-4 fw-bold" style="font-family: 'Londrina Shadow', cursive;">TALK Trash</h2>
            <h4 class="fw-bold mb-3">Tính bền vững = Tính Minh bạch</h4>
            <p class="text-primary">Tìm hiểu thêm tại đây</p>
            <p>
                Ngành công nghiệp may mặc tạo ra rất nhiều rác thải—chính xác là 10,5 triệu tấn mỗi năm. Chúng tôi
                đang giúp chuyển hướng một số rác thải khỏi bãi chôn lấp, đồng thời bảo tồn nước và các nguồn tài
                nguyên quan trọng. Bằng cách trồng cây cho mỗi mặt hàng được mua, chúng tôi chứng minh với thế giới
                rằng tính bền vững có thể và nên dễ dàng như mặc một chiếc áo phong.
            </p>
            <p>
                Sau đây là một bức ảnh chụp nhanh về tác động mà bạn đã giúp tạo ra cho đến nay trong năm nay:
            </p>

            <!-- Thống kê -->
            <div class="d-flex justify-content-start mt-4">
                <div class="text-center me-4">
                    <i class="fas fa-water fs-4 text-primary"></i>
                    <p class="fw-bold mb-0">200 MMG</p>
                </div>
                <div class="text-center me-4">
                    <i class="fas fa-leaf fs-4 text-success"></i>
                    <p class="fw-bold mb-0">245 MM l</p>
                </div>
                <div class="text-center">
                    <i class="fas fa-recycle fs-4 text-warning"></i>
                    <p class="fw-bold mb-0">1 MM kg</p>
                </div>
            </div>
        </div>

        <!-- Phần hình ảnh -->
        <div class="col-md-6">
            <img src="./public/imgs/rubishsea.jpg" alt="Image of sustainability" class="img-fluid rounded"
                style="width: 900px;">
        </div>
    </div>
</section>
<!-- Section sản phẩm tiêu biểu -->
<section class="position-relative text-center bg-dark text-white py-5">
    <!-- Background Image Overlay -->
    <div class="position-absolute top-0 start-0 w-100 h-100"
        style="background-image: url('./public/imgs/bannerhome.jpg'); background-size: cover; background-position: center; opacity: 0.6;">
    </div>
    <!-- Content Overlay -->
    <div class="container position-relative z-1">
        <div class="row align-items-center">
            <!-- Left Image -->
            <div class="col-md-6 d-flex justify-content-center mb-5 mb-md-1">
                <img src="./public/imgs/Blue-Mens-Button-Up-Shirt-TCM4652-3562_4_0d553e6a-7689-4a5c-af07-df319f7c50eb.jpg"
                    class="img-fluid w-75" alt="Sản phẩm tiêu biểu">
            </div>
            <!-- Right Image and Text Content -->
            <div class="col-md-6">
                <h2 class="mb-2">OUR FAVORITE GIFTS</h2>
                <p class="mb-3">FOR GIRLS</p>
                <div class="d-flex flex-column align-items-center">
                    <!-- Right Image -->
                    <img src="./public/imgs/Blue-Mens-Button-Up-Shirt-TCM4652-3562_4_0d553e6a-7689-4a5c-af07-df319f7c50eb.jpg"
                        class="img-fluid w-" alt="Sản phẩm tiêu biểu">
                </div>
            </div>
        </div>
    </div>
</section>
<section class="py-5">
    <div class="container">
        <div class="row align-items-center">
            <!-- Text Section -->
            <div class="col-md-4">
                <h2 class="fw-bold text-uppercase">Những mẫu mới nhất</h2>
                <p class="text-muted">
                    Khám phá những bộ sưu tập mới nhất với những phụ kiện gắn liền với brand của chúng tôi, và nhiều
                    hơn.
                </p>
            </div>

            <!-- Slider Section -->
            <div class="col-md-8 position-relative">
                <div id="horizontalSlider" class="carousel slide" data-bs-ride="carousel">
                    <!-- Slider Items -->
                    <div class="carousel-inner">
                        <?php
                        $chunks = array_chunk($product_new, 3); // Hiển thị 3 sản phẩm mỗi slide
                        $isActive = true;

                        foreach ($chunks as $chunk) { ?>
                            <div class="carousel-item <?= $isActive ? 'active' : '' ?>">
                                <div class="d-flex justify-content-center">
                                    <?php foreach ($chunk as $val) { ?>
                                        <div class="product-card me-3">
                                            <a href="<?= _HOST . 'detail/' . $val['product_id'] ?>">
                                                <img src="./uploads/<?= $val['main_image'] ?>" class="img-fluid rounded"
                                                    alt="<?= $val['name'] ?>">
                                                <p class="text-center mt-2"><?= $val['name'] ?></p>
                                            </a>
                                        </div>
                                    <?php } ?>
                                </div>
                            </div>
                            <?php
                            $isActive = false;
                        } ?>
                    </div>

                    <!-- Controls -->
                    <button class="carousel-control-prev" type="button" data-bs-target="#horizontalSlider"
                        data-bs-slide="prev" style="top: 50%; transform: translateY(-50%);">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#horizontalSlider"
                        data-bs-slide="next" style="top: 50%; transform: translateY(-50%);">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    /* Tổng quan slider */
    .carousel-inner {
        display: flex;
        overflow: hidden;
        position: relative;
    }

    .carousel-item {
        display: flex;
        justify-content: center;
        transition: transform 0.5s ease-in-out;
    }

    /* Thiết kế từng sản phẩm */
    .product-card {
        flex: 0 0 40%;
        margin: 0 15px;
    }

    .product-card img {
        width: 100%;
        max-height: 500px;
        /* Đảm bảo ảnh cao */
        object-fit: cover;
        border-radius: 10px;
    }

    .product-card p {
        font-size: 16px;
        font-weight: 500;
        color: #333;
        text-align: center;
    }

    /* Nút điều hướng Prev/Next */
    .carousel-control-prev,
    .carousel-control-next {
        width: 50px;
        height: 50px;
        background-color: rgba(0, 0, 0, 0.5);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
    }

    .carousel-control-prev {
        left: -30px;
    }

    .carousel-control-next {
        right: -30px;
    }

    .carousel-control-prev-icon,
    .carousel-control-next-icon {
        width: 25px;
        height: 25px;
    }

    #counter {
        /* font-size: 3rem; */
        transition: all 0.9s ease-in-out;
    }
</style>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const counterElement = document.getElementById("counter");
        const targetNumber = parseInt(counterElement.textContent.replace(/,/g, ""), 10); // Loại bỏ dấu phẩy
        const duration = 2000; // Thời gian hiệu ứng, tính bằng mili giây
        const increment = Math.ceil(targetNumber / (duration / 16)); // Chia để tăng dần

        let currentNumber = 0;

        const updateCounter = () => {
            currentNumber += increment;
            if (currentNumber > targetNumber) {
                currentNumber = targetNumber;
            }
            counterElement.textContent = currentNumber.toLocaleString(); // Format số với dấu phẩy
            if (currentNumber < targetNumber) {
                requestAnimationFrame(updateCounter);
            }
        };

        updateCounter();
    });

</script>